# 写真整理ツール GUI 版 使用ガイド

## 🎯 概要

写真整理ツールの GUI 版では、以下の 2 つのバージョンを提供しています：

1. **HTML 版** (`photo_organizer_gui.html`) - ブラウザのみで動作、整理計画をダウンロード
2. **Web アプリ版** (`photo_organizer_webapp.py`) - 実際のファイル操作が可能

## 📋 必要な環境

### HTML 版

- モダンな Web ブラウザ（Chrome、Firefox、Safari、Edge）
- JavaScript 有効

### Web アプリ版

- Python 3.6 以上
- Flask (`pip install flask`)

## 🚀 使用方法

### 📄 HTML 版の使用方法

1. **ファイルを開く**

   ```bash
   # ブラウザで直接開く
   photo_organizer_gui.html をダブルクリック
   ```

2. **フォルダを選択**

   - 「📁 整理したい写真フォルダを選択してください」ボタンをクリック
   - 整理したいフォルダを選択

3. **解析とプレビュー**

   - 「🔍 ファイルを解析」ボタンをクリック
   - 「👁️ 整理プレビュー」で結果を確認

4. **整理計画をダウンロード**
   - 「💾 整理計画をダウンロード」で Python スクリプトと CSV レポートを取得

### 🌐 Web アプリ版の使用方法

1. **Flask をインストール**

   ```bash
   pip install flask
   ```

2. **アプリを起動**

   ```bash
   python photo_organizer_webapp.py
   ```

3. **ブラウザでアクセス**

   ```
   http://localhost:5000
   ```

4. **ディレクトリパスを入力**

   - 整理したいフォルダのフルパスを入力
   - 例: `C:\Users\YourName\Pictures`

5. **解析と実行**
   - 「🔍 解析開始」でファイルを解析
   - プレビューを確認後、「✅ 整理を実行」で実際に整理

## 🎨 機能比較

| 機能                 | HTML 版                     | Web アプリ版 |
| -------------------- | --------------------------- | ------------ |
| フォルダ選択         | ✅ ブラウザの選択ダイアログ | ✅ パス入力  |
| ファイル解析         | ✅                          | ✅           |
| プレビュー表示       | ✅                          | ✅           |
| 実際のファイル移動   | ❌                          | ✅           |
| 整理計画ダウンロード | ✅                          | ✅           |
| 統計情報             | ✅                          | ✅           |
| ログ表示             | ✅                          | ✅           |

## 📁 画面構成

### 共通機能

1. **ヘッダー**

   - ツール名とバージョン情報

2. **フォルダ選択セクション**

   - HTML 版: ファイル選択ダイアログ
   - Web アプリ版: パス入力フィールド

3. **統計情報**

   - 画像ファイル数
   - 作成予定フォルダ数
   - 複数人名ファイル数

4. **ファイル一覧**（HTML 版のみ）

   - 検出された画像ファイルの一覧表示

5. **整理プレビュー**

   - フォルダごとのファイル数
   - 含まれるファイル名の一部

6. **アクションボタン**

   - 解析、プレビュー、実行/ダウンロード

7. **ログセクション**
   - 処理状況のリアルタイム表示

## 🔧 カスタマイズ

### 対応画像形式の追加

```javascript
// HTML版の場合
const imageExtensions = [
  ".jpg",
  ".jpeg",
  ".png",
  ".gif",
  ".bmp",
  ".tiff",
  ".webp",
  ".raw",
  ".cr2",
  ".nef",
];
```

```python
# Webアプリ版の場合
image_extensions = {'.jpg', '.jpeg', '.png', '.gif', '.bmp', '.tiff', '.webp', '.raw', '.cr2', '.nef'}
```

### スタイルのカスタマイズ

CSS セクションを編集して、色やレイアウトを変更できます：

```css
/* メインカラーの変更 */
.header {
  background: linear-gradient(135deg, #your-color1 0%, #your-color2 100%);
}
```

## 🛡️ セキュリティと制限

### HTML 版の制限

- **ファイル移動不可**: ブラウザのセキュリティ制限により、実際のファイル操作はできません
- **フォルダ選択**: `webkitdirectory` 属性を使用（一部古いブラウザでは非対応）
- **ローカル実行**: ファイルシステムへの直接アクセスは制限されます

### Web アプリ版の注意点

- **ローカル実行推奨**: 外部からのアクセスを許可する場合は十分注意してください
- **ファイルパス**: 正確なパスを入力してください
- **権限**: ファイル移動に必要な権限があることを確認してください

## 🐛 トラブルシューティング

### HTML 版

1. **フォルダが選択できない**

   - モダンなブラウザを使用してください
   - JavaScript が有効になっていることを確認してください

2. **ファイルが表示されない**
   - 対応している画像形式か確認してください
   - フォルダに画像ファイルが含まれているか確認してください

### Web アプリ版

1. **「Flask not found」エラー**

   ```bash
   pip install flask
   ```

2. **ディレクトリが見つからない**

   - パスが正確か確認してください
   - フォルダが存在するか確認してください
   - パスの区切り文字に注意してください（Windows: `\`, macOS/Linux: `/`）

3. **ファイル移動エラー**
   - ファイルが他のアプリケーションで開かれていないか確認してください
   - 十分な権限があるか確認してください

## 📝 使用例

### HTML 版の使用例

1. ブラウザで `photo_organizer_gui.html` を開く
2. 「フォルダを選択」で写真フォルダを選択
3. 「ファイルを解析」をクリック
4. プレビューを確認
5. 「整理計画をダウンロード」でスクリプトを取得
6. ダウンロードしたスクリプトを写真フォルダで実行

### Web アプリ版の使用例

1. `python photo_organizer_webapp.py` でサーバー起動
2. ブラウザで `http://localhost:5000` にアクセス
3. パス入力欄に `C:\Users\YourName\Pictures` を入力
4. 「解析開始」をクリック
5. プレビューを確認
6. 「整理を実行」で実際にファイルを移動

## 🎉 まとめ

GUI 版では、コマンドラインに慣れていないユーザーでも簡単に写真整理ができます。HTML 版は手軽に試せ、Web アプリ版は本格的な整理作業に適しています。用途に応じて使い分けてください！

---

**Photo Organizer GUI 版** - 直感的な操作で写真整理を簡単に！
